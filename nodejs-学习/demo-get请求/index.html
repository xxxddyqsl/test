<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    测试 请求 自定义 nodejs - get 接口请求
    <button onclick="getFun()"> 发起get请求</button>
</body>
<script  src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script>
    var code='1994';
    function getFun(){
        $.ajax({ 
            type: "GET",//必须是get请求
            url: "http://172.18.70.26:5642/?code="+code+'&codeA=codeA',
              //传递给请求处理程序，用以获得jsonp回调函数名的参数名(默认为:callback)
            dataType: 'jsonp',
            data: {aa:'测试data',bb:'测试b'},
            success: function (res) {
                console.log(res);
            },error:function(err){
                console.log(err)
            }
        });
    }
    // 跨域请求
    function getFunJsonp(){
        $.ajax({
            async:false,
            type: "GET",//必须是get请求
            url: "http://172.18.70.26:5642/?code="+code+'&codeA=codeA',
            dataType: 'jsonp',
             //传递给请求处理程序，用以获得jsonp回调函数名的参数名(默认为:callback)
            jsonp: 'jsoncallback',
            data: {aa:'测试data',bb:'测试b'},
            //自定义的jsonp回调函数名称，默认为jQuery自动生成的随机函数名  //成功获取跨域服务器上的json数据后,会动态执行这个callback函数
            jsonpCallback:"success_jsonpCallback",
            success: function (res) {
                console.log(res);
            },error:function(err){
                console.log(err)
            }
        });
    }
</script>
</html>