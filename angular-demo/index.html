<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdn.staticfile.org/angular.js/1.4.6/angular.min.js"></script>
</head>
<script>
  let arr = {
    dataName: "dataJohn",
    data: ['JaniA', 'HegeB', 'KaiV']
  };

</script>
<style>
  input.ng-invalid {
    background-color: lightblue;
  }
</style>

<body>
  <div ng-controller="myCtrl">
    <!-- ng-app 指令告诉 AngularJS，<div> 元素是 AngularJS 应用程序 的"所有者"。 -->
    <!-- ng-model 指令把输入域的值绑定到应用程序变量 name。 -->
    <!-- ng-bind 指令把应用程序变量 name 绑定到某个段落的 innerHTML。 -->
    <p>名字 : <input type="text" ng-model="name"></p>
    <h1>Hello {{name}}</h1>
    <!-- <p>姓名1为 <span>{{firstName}}</span></p> -->
    <p ng-bind="name"></p>
    <!-- ng-init 指令初始化 AngularJS 应用程序 控制器控制器-myCtrl-内变量里的-firstName js里面赋值无效。 -->
    <div ng-init="firstName='John'">
      <p>姓名2为 <span ng-bind="firstName"></span></p>
    </div>
    <!-- <p>姓名3为 <span>{{lastName}}</span></p> -->
    <!-- 	HTML5 允许扩展的（自制的）属性，以 data- 开头。AngularJS 属性以 ng- 开头，但是您可以使用 data-ng- 来让网页对 HTML5 有效。 -->
    <div data-ng-init='dataAge="20岁"'>
      <p>年龄 <span data-ng-bind="dataAge"></span></p>
    </div>
    <!-- AngularJS 表达式写在双大括号内：{{ expression }}。
    AngularJS 表达式把数据绑定到 HTML，这与 ng-bind 指令有异曲同工之妙。
    AngularJS 将在表达式书写的位置"输出"数据。
    AngularJS 表达式 很像 JavaScript 表达式：它们可以包含文字、运算符和变量。
    实例 {{ 5 + 5 }} 或 {{ firstName + " " + lastName }} -->
    <p>我的第一个表达式： {{ 5 + 5 }} {{firstName+'：'+dataAge}}</p>
    <div data-ng-init="quantity=2;cost=5">
      <p>总价1： {{ quantity * cost }}</p>
      <!-- 使用 ng-bind 的相同实例： -->
      <p>总价2： <span ng-bind="quantity * cost"></span></p>
    </div>

    <div ng-init="points=[1,15,19,2,40]">
      <p>'{{''}}'第三个值为 {{ points[2] }}</p>
      <p>bind第三个值为 <span ng-bind="points[2]"></span></p>
    </div>

    <div ng-init="quantityA=1;priceA=5">
      <h2>价格计算器</h2>
      数量： <input type="number" ng-model="quantityA">
      价格： <input type="number" ng-model="priceA">
      <p><b>总价：</b> {{ quantityA * priceA }}</p>
    </div>
    <!-- ng-repeat 指令
    ng-repeat 指令对于集合中（数组中）的每个项会 克隆一次 HTML 元素。 -->
    <div ng-init="names=['Jani','Hege','Kai']">
      <p>使用 ng-repeat 来循环数组aaa</p>
      <ul>
        <li ng-repeat="x in nameArr" ng-click='goclick($index)'>
          <!-- <li ng-repeat="x in names"> --> 
            <button>{{x}}</button>
        </li>
      </ul>
      <div ng-repeat="x in nameArr" ng-show='!clickindex?0==$index:$index==clickindex?true:flase'>多个点击事件 遍历 控制显示隐藏： {{ x }}</div>
    </div>


    <form>
      选择一个选项:
      <input type="radio" ng-model="myVar" value="dogs">Dogs
      <input type="radio" ng-model="myVar" value="tuts">Tutorials
      <input type="radio" ng-model="myVar" value="cars">Cars
    </form>

    <div ng-switch="myVar">
      <div ng-switch-when="dogs">
         <h1>Dogs</h1>
         <p>Welcome to a world of dogs.</p>
      </div>
      <div ng-switch-when="tuts">
         <h1>Tutorials</h1> 
         <p>Learn from examples.</p>
      </div>
      <div ng-switch-when="cars">
         <h1>Cars</h1>
         <p>Read about cars.</p>
      </div>
    <p>ng-switch 指令根据单选按钮的选择结果显示或隐藏 HTML 区域。</p>

    </div>
    <form>
      <div style='color:blue;'>选择一个选项==>> ng-init="gomyVar = 'dogs' " 设置默认选中项:</div>
      <select ng-model="gomyVar"  ng-init="gomyVar = 'dogs' " >
        <option value="dogs">Dogs
        <option value="tuts">Tutorials
        <option value="cars">Cars
      </select>
    </form>
    <div ng-switch="gomyVar">
      <div ng-switch-when="dogs">
         <h1>Dogs</h1>
         <p>Welcome to a world of dogs.</p>
      </div>
      <div ng-switch-when="tuts">
         <h1>Tutorials</h1>
         <p>Learn from examples.</p>
      </div>
      <div ng-switch-when="cars">
         <h1>Cars</h1>
         <p>Read about cars.</p>
      </div>
    </div>


  </div>

  <div>

    <!-- 可以通过以下方式来调用指令： 元素名 属性 类名 注释 -->
    <!-- 元素名 -->
    <!-- 使用驼峰法来命名一个指令， runoobDirective, 但在使用它时需要以 - 分割, runoob-directive: -->
    <!-- <runoob-directive></runoob-directive> -->
    <!-- 属性 -->
    <!-- <div runoob-directive></div> -->
    <span>
      <!-- 类名 -->
      <div class="runoob-directive"></div>
      <p><strong>注意：</strong> 你必须设置 <b>restrict</b> 的值为 "C" 才能通过类名来调用指令。</p>
    </span>
    <span>
      <!-- 注释 -->
      <!-- directive: runoob-directive-->
      <!-- directive: runoob-directive
      
  <p><strong>注意：</strong> 我们需要在该实例添加 <strong>replace</strong> 属性， 否则评论是不可见的。</p>
  <p><strong>注意：</strong> 你必须设置 <b>restrict</b> 的值为 "M" 才能通过注释来调用指令。</p> -->
    </span>
    <!-- 限制使用 -->
    <!-- 你可以限制你的指令只能通过特定的方式来调用。 -->
    <!-- 通过添加 restrict 属性,并设置值为 "A", 来设置指令只能通过属性的方式来调用: -->
    <!-- restrict 值可以是以下几种: 
          E 作为元素名使用
          A 作为属性使用
          C 作为类名使用
          M 作为注释使用
          restrict 默认值为 EA, 即可以通过元素名和属性名来调用指令。 -->
  </div>
  <!-- 验证用户输入 -->

  <form name="myForm">
    Email:
    <input type="email" name="myAddress" ng-model="text">
    <span ng-show="myForm.myAddress.$error.email">不是一个合法的邮箱地址</span>
    <!-- 应用状态 -->
    <!-- ng-model 指令可以为应用数据提供状态值(invalid, dirty, touched, error): -->
    <p>编辑邮箱地址，查看状态的改变。</p>
    <h1>状态</h1>
    <p>Valid: {{myForm.myAddress.$valid}} (如果输入的值是合法的则为 true)。</p>
    <p>Dirty: {{myForm.myAddress.$dirty}} (如果值改变则为 true)。</p>
    <p>Touched: {{myForm.myAddress.$touched}} (如果通过触屏点击则为 true)。</p>

    <!-- CSS 类
  ng-model 指令基于它们的状态为 HTML 元素提供了 CSS 类： -->
    输入你的名字:
    <input name="myAddress" ng-model="text" required>
  </form>



  <div ng-controller="demo">
    <p>姓名1为 <span>{{firstName}}</span></p>
    <p>姓名3为 <span>{{lastName}}</span></p>
  </div>

<!-- 自定义指令当然也需要实现这种功能啦。scope属性为对象时，可为自定义指令指定一个可以绑定值的属性。这里还得说明一下的是，这个scope属性与自定义指令里link属性里的scope参数是一个变量。 -->
  <div  ng-controller="myController">
    <!--ngAreaSelect 引用自定义指令：obj变量与控制器里的objc变量双向绑定了值 -->
    <input ng-area-select select-area="login.selectArea" speak="obj"></input>
</div>
</body>
<script>
  // $scope(作用域) 类似局部 作用域 只在 ng-controller="myCtrl" 内部起作用
  //$rootScope 根作用域  类似 全局 作用域
  // 所有的应用都有一个 $rootScope，它可以作用在 ng-app 指令包含的所有 HTML 元素中。
  // $rootScope 可作用于整个应用中。是各个 controller 中 scope 的桥梁。用 rootscope 定义的值，可以在各个 controller 中使用。
  
  // AngularJS 模块（Module） 定义了 AngularJS 应用。 
  // AngularJS 控制器（Controller） 用于控制 AngularJS 应用。 
  // ng-app指令指明了应用, ng-controller 指明了控制器。
  var app = angular.module('myApp', []);
  app.controller('myCtrl', ['$scope',function ($scope) {
    $scope.firstName = "张三";
    $scope.lastName = "Doe";
    $scope.nameArr = arr.data;
    // $rootScope.lastname = "Refsnes";
    $scope.goclick=function(index){
      $scope.clickindex=index;
      alert(index);
    }
  }]);
  app.directive("runoobDirective", function () {
    return {
      restrict: "C",
      // restrict : "M",
      //   replace : true,
      template: "<h1>自定义指令!</h1>"
    };
  });
  app.controller('demo', function ($scope) {
    $scope.firstName = "张三";
    $scope.lastName = "Doe";
  });


   //创建控制器
   app.controller('myController',['$scope', function($scope) { 
            $scope.obj="父作用域";//父作用域给自定义指令属性赋的值
        }]);
         //创建自定义指令
         app.directive("ngAreaSelect", function() {
            return {
              replace : true,
                template : "<h1>模板内容</h1>",   
                // templateUrl : "template.html",
                scope:{
                    title:"=speak"//定义一个speak属性供html页面的自定义指令用。如果写成title:"="格式，则自定义指令里的属性名就是title。
                },
                link: function postLink(scope, iElement, iAttrs) {
                    console.log(scope.title)//这里打印的值与控制器里的值一样
                }
            };
        });

        // jj.fetch("users/isEmployee", JSON.stringify({ data: { Mobile: "+8617095012304" }, callback: "callback" }));   callCefMethod('frame/copy',content,function(res){
        //         callback && callback(res);
        //     })
        // var data={"mobile":"+8617749721923","password":"yqsl19941010","AutoLogin":false}; callCefMethod("account/login",data,function(res) {console.log(res)});
        // var data={"Mobile":"+8617749721923"};  callCefMethod("users/isEmployee",data,function(res) {console.log(res)});

        //http://test.oa.snail.com/APP/IndiEV/approval.html?uid=TGT-19197-Og7kuM5yCtyAkEcrfwletcDB43xEghhVtPoBvLGtobsFfd9bfW-oa.sso.woniu.com&wait=0h&viewType=view&formno=64&formkind=SNAIL.FORM.1016&approveId=snail.FMAP.7224885
</script>

</html>